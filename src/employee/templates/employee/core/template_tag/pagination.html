{% load i18n filter_tags %}

<nav class="mg-t-20" aria-label="Page navigation example">
  <ul class="pagination pagination-outline mg-b-0">

    <li class="page-item ">
      {% if page.has_previous %}
      <a class="page-link page-link-icon" href="?{% param_replace request page=page.previous_page_number %}">
        <i data-feather="chevron-left"></i>
      </a>
      {% endif %}
    </li>

    {% for page_num in begin %}
    {% ifequal page.number page_num %}
    <li class="page-item active">
      <a class="page-link" href="?{% param_replace request page=page_num %}">{{ page_num }}</a>
    </li>
    {% else %}
    <li class=" page-item">
      <a class="page-link" href="?{% param_replace request page=page_num %}">{{ page_num }}</a>
    </li>
    {% endifequal %}
    {% endfor %}

    {% if middle %}
    <li class="page-item">
      <a class="page-link">...</a>
    </li>
    {% for page_num in middle %}
    {% ifequal page.number page_num %}
    <li class="active">
      <a href="?{% param_replace request page=page_num %}">{{ page_num }}</a>
    </li>
    {% else %}
    <li>
      <a href="?{% param_replace request page=page_num %}">{{ page_num }}</a>
    </li>
    {% endifequal %}
    {% endfor %}
    {% endif %}

    {% if end %}
    <li class="page-item">
      <a class="page-link">...</a>
    </li>
    {% for page_num in end %}
    {% ifequal page.number page_num %}
    <li class="page-item active">
      <a class="page-link" href="?{% param_replace request page=page_num %}">{{ page_num }}</a>
    </li>
    {% else %}
    <li class="page-item">
      <a class="page-link" href="?{% param_replace request page=page_num %}">{{ page_num }}</a>
    </li>
    {% endifequal %}
    {% endfor %}
    {% endif %}

    <li class="page-item">
      {% if page.has_next %}
      <a class="page-link page-link-icon" href="?{% param_replace request page=page.next_page_number %}">
        <i data-feather="chevron-right"></i></a>
      </a>
      {% endif %}
    </li>

  </ul>
</nav>